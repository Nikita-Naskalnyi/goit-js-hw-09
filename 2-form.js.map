{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst saveFormData = data => {\n  try {\n    localStorage.setItem('feedback-form-state', JSON.stringify(data));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst loadFormData = () => {\n  try {\n    return JSON.parse(localStorage.getItem('feedback-form-state'));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst onLoadFormField = formFields => {\n  const formDataFromLS = loadFormData();\n\n  if (!formDataFromLS) return;\n\n  Object.assign(formData, formDataFromLS);\n  refs.form.elements.email.value = formData.email || '';\n  refs.form.elements.message.value = formData.message || '';\n};\nonLoadFormField(refs.form);\n\nconst onFormField = event => {\n  formData[event.target.name] = event.target.value.trim();\n  saveFormData(formData);\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  const { email, message } = event.target;\n\n  if (!email.value.trim() || !message.value.trim())\n    return alert('Fill please all fields');\n\n  console.log(formData);\n  localStorage.removeItem('feedback-form-state');\n  event.currentTarget.reset();\n  formData.email = '';\n  formData.message = '';\n};\n\nrefs.form.addEventListener('input', onFormField);\nrefs.form.addEventListener('submit', onFormSubmit);\n"],"names":["formData","refs","saveFormData","data","error","loadFormData","onLoadFormField","formFields","formDataFromLS","onFormField","event","onFormSubmit","email","message"],"mappings":"oDAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEMC,EAAeC,GAAQ,CAC3B,GAAI,CACF,aAAa,QAAQ,sBAAuB,KAAK,UAAUA,CAAI,CAAC,CACjE,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEMC,EAAe,IAAM,CACzB,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAC9D,OAAQD,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEME,EAAkBC,GAAc,CACpC,MAAMC,EAAiBH,IAElBG,IAEL,OAAO,OAAOR,EAAUQ,CAAc,EACtCP,EAAK,KAAK,SAAS,MAAM,MAAQD,EAAS,OAAS,GACnDC,EAAK,KAAK,SAAS,QAAQ,MAAQD,EAAS,SAAW,GACzD,EACAM,EAAyB,EAEzB,MAAMG,EAAcC,GAAS,CAC3BV,EAASU,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjDR,EAAaF,CAAQ,CACvB,EAEMW,EAAeD,GAAS,CAC5BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAE,EAAO,QAAAC,GAAYH,EAAM,OAEjC,GAAI,CAACE,EAAM,MAAM,KAAM,GAAI,CAACC,EAAQ,MAAM,KAAM,EAC9C,OAAO,MAAM,wBAAwB,EAEvC,QAAQ,IAAIb,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CU,EAAM,cAAc,QACpBV,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,EAEAC,EAAK,KAAK,iBAAiB,QAASQ,CAAW,EAC/CR,EAAK,KAAK,iBAAiB,SAAUU,CAAY"}